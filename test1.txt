Производитель
Provided
Заказ
Inner
Готово
Отказ
Делать
State
entry->/->готов
готов->заказ/делать->занят
готов->заказ/отказ->ошибка
занят->готово/отказ->ошибка
занят->готово/поставка->готов
ошибка->/->exit
End
Потребитель
Provided
Поставка
Inner
Нужда
Использовать
Возврат
State
entry->/->готов
готов->нужда/заказ->занят
готов->нужда/возврат->ошибка
занят->поставка/использовать->готов
занят->поставка/возврат->ошибка
ошибка->/->exit
End